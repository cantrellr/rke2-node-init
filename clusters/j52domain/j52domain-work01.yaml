apiVersion: rkeprep/v1
kind: Agent
metadata:
  name: j52domain-work01
spec:
  hostname: j52domain-work01
  interfaces:
    # Primary
    - name: ens33
      ip: 10.0.4.165
      prefix: 24
      gateway: 10.0.4.1
      dns: ["10.0.1.34", "10.231.1.34"]
      searchDomains: ["dev.kube", "dev.local"]
    # Storage
    - name: ens35
      ip: 172.16.0.120
      prefix: 24
      gateway:
      dns: ["10.0.1.34", "10.231.1.34"]
      searchDomains: ["dev.kube", "dev.local"]
    # Segment1
    - name: ens36
      ip: 1.0.0.165
      prefix: 24
      gateway: 1.0.0.1
      dns: ["1.0.1.34"]
      searchDomains: ["dev.kube", "dev.local"]
  serverURL: https://10.0.4.161:9345
  tokenFile: /rke2-node-init/outputs/j52domain-ca-bootstrap-token.txt
  node-label:
  - "role=worker"
  - "env=preprod"
  customCA:
    rootCrt: /opt/rke2/stage/certs/dev-certa001-ca-dev-local.crt
    rootKey: /opt/rke2/stage/certs/dev-certa001-ca-dev-local-key.pem
    installToOSTrust: true
  disable:
  - rke2-ingress-nginx
